@using BlazzyMotion.Core.Models
@using BlazzyMotion.Demo.Icons

<div class="bz-theme-pills">
    <button class="bz-pill @(CurrentTheme == BzTheme.Glass ? "active" : "")"
            @onclick="() => SetTheme(BzTheme.Glass)">
        <span class="bz-pill__icon">@Icons.Crystal</span> Glass
    </button>
    <button class="bz-pill @(CurrentTheme == BzTheme.Dark ? "active" : "")"
            @onclick="() => SetTheme(BzTheme.Dark)">
        <span class="bz-pill__icon">@Icons.Moon</span> Dark
    </button>
    <button class="bz-pill @(CurrentTheme == BzTheme.Light ? "active" : "")"
            @onclick="() => SetTheme(BzTheme.Light)">
        <span class="bz-pill__icon">@Icons.Sun</span> Light
    </button>
    <button class="bz-pill @(CurrentTheme == BzTheme.Minimal ? "active" : "")"
            @onclick="() => SetTheme(BzTheme.Minimal)">
        <span class="bz-pill__icon">@Icons.Minus</span> Minimal
    </button>
</div>

@code {
    [Parameter]
    public BzTheme CurrentTheme { get; set; } = BzTheme.Glass;

    [Parameter]
    public EventCallback<BzTheme> CurrentThemeChanged { get; set; }

    [Parameter]
    public EventCallback<BzTheme> OnThemeChanged { get; set; }

    private async Task SetTheme(BzTheme theme)
    {
        CurrentTheme = theme;
        await CurrentThemeChanged.InvokeAsync(theme);
        await OnThemeChanged.InvokeAsync(theme);
    }
}
