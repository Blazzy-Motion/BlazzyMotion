@page "/docs/installation"
@using BlazzyMotion.Demo.Services
@using BlazzyMotion.Demo.Icons

<PageTitle>Installation - BlazzyMotion</PageTitle>

<PageHeader Title="Installation" Subtitle="Get started with BlazzyMotion in your Blazor project"
    Framework="@AppVersions.DotNetVersion">
    <IconContent>@Icons.Package</IconContent>
</PageHeader>

<DocSection Title="Prerequisites">
    <IconContent>@Icons.CircleCheck</IconContent>
    <ChildContent>
        <p>Before installing BlazzyMotion, make sure you have:</p>
        <ul class="bz-list">
            <li>.NET 8.0 SDK or later</li>
            <li>A Blazor WebAssembly or Blazor Server project</li>
            <li>Visual Studio 2022, VS Code, or JetBrains Rider</li>
        </ul>
    </ChildContent>
</DocSection>

<DocSection Title="Install via NuGet">
    <IconContent>@Icons.Download</IconContent>
    <ChildContent>
        <p>BlazzyMotion offers three component packages. Install the ones you need:</p>

        <h4 class="bz-mt-3">BzCarousel - 3D Carousel Component</h4>
        <CodeBlock Language="bash" Code="@_carouselCli" />

        <h4 class="bz-mt-3">BzBento - Bento Grid Layout</h4>
        <CodeBlock Language="bash" Code="@_bentoCli" />

        <h4 class="bz-mt-3">BzGallery - Image Gallery</h4>
        <CodeBlock Language="bash" Code="@_galleryCli" />

        <h4 class="bz-mt-3">Or install all</h4>
        <CodeBlock Language="bash" Code="@_allCli" />

        <h4 class="bz-mt-3">PackageReference (csproj)</h4>
        <CodeBlock Language="xml" Code="@_packageRef" />
    </ChildContent>
</DocSection>

<DocSection Title="Configuration">
    <IconContent>@Icons.Settings</IconContent>
    <ChildContent>
        <p>BlazzyMotion uses Source Generators, so there's <strong>no service registration required!</strong></p>
        <p><strong>CSS is automatically included</strong> - no manual setup needed!</p>

        <p class="bz-mt-2">Add the using statements to your <code>_Imports.razor</code>:</p>
        <CodeBlock Language="razor" Code="@_imports" />
    </ChildContent>
</DocSection>

<DocSection Title="Verify Installation">
  <IconContent>
    <svg class="bz-icon" viewBox="0 0 24 24">
      <circle cx="11" cy="11" r="8"/>
      <path d="m21 21-4.35-4.35"/>
    </svg>
  </IconContent>
  <ChildContent>
    <p>Create a simple test to verify everything is working:</p>

    <h4 class="bz-mt-2">Test BzCarousel</h4>
    <CodeBlock Language="razor" Code="@_testCarousel" />

    <h4 class="bz-mt-3">Test BzBento</h4>
    <CodeBlock Language="razor" Code="@_testBento" />

    <h4 class="bz-mt-3">Test BzGallery</h4>
    <CodeBlock Language="razor" Code="@_testGallery" />

    <p class="bz-mt-2">If you see the components rendered correctly, you're all set!</p>
  </ChildContent>
</DocSection>

<DocSection Title="Next Steps">
  <IconContent>
    <svg class="bz-icon" viewBox="0 0 24 24">
      <path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"/>
      <path d="m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"/>
      <path d="M9 11a3 3 0 0 1 3 3"/>
    </svg>
  </IconContent>
  <ChildContent>
    <div class="bz-flex bz-gap-2" style="flex-wrap: wrap;">
        <a href="/docs/quick-start" class="bz-btn bz-btn--primary">
            Quick Start Guide
        </a>
        <a href="/docs/carousel" class="bz-btn bz-btn--secondary">
            Carousel Docs
        </a>
        <a href="/docs/bento" class="bz-btn bz-btn--secondary">
            Bento Docs
        </a>
        <a href="/docs/gallery" class="bz-btn bz-btn--secondary">
            Gallery Docs
        </a>
    </div>
  </ChildContent>
</DocSection>

@code {
    private string _carouselCli = "dotnet add package BlazzyMotion.Carousel";

    private string _bentoCli = "dotnet add package BlazzyMotion.Bento";

    private string _galleryCli = "dotnet add package BlazzyMotion.Gallery";

    private string _allCli = @"dotnet add package BlazzyMotion.Carousel
dotnet add package BlazzyMotion.Bento
dotnet add package BlazzyMotion.Gallery";

    private string _packageRef => $@"<PackageReference Include=""BlazzyMotion.Carousel"" Version=""{AppVersions.Carousel}"" />
<PackageReference Include=""BlazzyMotion.Bento"" Version=""{AppVersions.Bento}"" />
<PackageReference Include=""BlazzyMotion.Gallery"" Version=""{AppVersions.Gallery}"" />";

    private string _imports = @"@* For BzCarousel *@
@using BlazzyMotion.Core.Models
@using BlazzyMotion.Carousel.Components

@* For BzBento *@
@using BlazzyMotion.Bento.Components

@* For BzGallery *@
@using BlazzyMotion.Gallery.Components
@using BlazzyMotion.Gallery.Models";

    private string _testCarousel = @"<BzCarousel Items=""@_movies"" />

@code {
    private List<Movie> _movies = new()
    {
        new Movie { ImageUrl = ""/images/movie1.jpg"", Title = ""Movie 1"" },
        new Movie { ImageUrl = ""/images/movie2.jpg"", Title = ""Movie 2"" }
    };

    public class Movie
    {
        [BzImage] public string ImageUrl { get; set; } = """";
        public string Title { get; set; } = """";
    }
}";

    private string _testBento = @"<BzBento TItem=""object"" Columns=""3"">
    <BzBentoMetric Value=""100"" Label=""Users"" />
    <BzBentoMetric Value=""$50K"" Label=""Revenue"" />
    <BzBentoFeature Label=""Fast"" Description=""60 FPS"" />
</BzBento>";

    private string _testGallery = @"<BzGallery Items=""@_photos"" />

@code {
    private List<Photo> _photos = new()
    {
        new Photo { ImageUrl = ""/images/photo1.jpg"", Title = ""Photo 1"" },
        new Photo { ImageUrl = ""/images/photo2.jpg"", Title = ""Photo 2"" }
    };

    public class Photo
    {
        [BzImage] public string ImageUrl { get; set; } = """";
        [BzTitle] public string Title { get; set; } = """";
    }
}";
}
