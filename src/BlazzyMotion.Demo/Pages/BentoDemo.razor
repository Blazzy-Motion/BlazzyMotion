@page "/bento"
@layout HomeLayout
@using BlazzyMotion.Core.Models
@using BlazzyMotion.Bento.Components
@using BlazzyMotion.Bento.Models
@using BlazzyMotion.Demo.Model

<PageTitle>BzBento Demo - BlazzyMotion</PageTitle>

<div class="bz-home">

    <section class="bz-hero" style="min-height: auto; padding: 60px 20px;">
        <div class="bz-hero__content">
            <h1 class="bz-hero__brand">BzBento</h1>
            <h2 class="bz-hero__title">Beautiful Grid Layouts</h2>
            <p class="bz-hero__subtitle">
                CSS Grid powered Bento layouts with glassmorphism design.
            </p>
        </div>
    </section>

    <section class="bzb-presentation">

        <span class="bzb-presentation__label">Live Preview - Auto Layout</span>

        <h3 class="bzb-presentation__title">Bento Grid with Dynamic Pattern</h3>

        <div class="bz-theme-pills">
            <button class="bz-pill @(_currentTheme == BzTheme.Glass ? "active" : "")"
                    @onclick="() => SetTheme(BzTheme.Glass)">
                Glass
            </button>
            <button class="bz-pill @(_currentTheme == BzTheme.Dark ? "active" : "")"
                    @onclick="() => SetTheme(BzTheme.Dark)">
                Dark
            </button>
            <button class="bz-pill @(_currentTheme == BzTheme.Light ? "active" : "")"
                    @onclick="() => SetTheme(BzTheme.Light)">
                Light
            </button>
            <button class="bz-pill @(_currentTheme == BzTheme.Minimal ? "active" : "")"
                    @onclick="() => SetTheme(BzTheme.Minimal)">
                Minimal
            </button>
        </div>

        <div class="bzb-presentation__stage">
            <BzBento TItem="BentoItem"
                     Items="@_bentoItems"
                     Theme="@_currentTheme"
                     AutoLayout="true"
                     Pattern="BentoLayoutPattern.Dynamic"
                     Columns="4"
                     Gap="16"
                     OnItemSelected="@OnItemSelected" />
        </div>

        @if (_selectedItem != null)
        {
            <h4 class="bz-selected-title">Selected: @_selectedItem.Title</h4>
        }

    </section>

    <section class="bzb-presentation" style="padding-top: 40px;">

        <h3 class="bzb-presentation__title">Composition Mode (Manual Layout)</h3>
        <p style="color: rgba(255,255,255,0.7); text-align: center; margin-bottom: 30px;">
            Use ChildContent for complete control - AutoLayout disabled
        </p>

        <div class="bzb-presentation__stage">
            <BzBento TItem="object" Items="null" Theme="@_currentTheme" AutoLayout="false" Columns="4" Gap="16">
                <BzBentoCard TItem="object"
                             ColSpan="2" RowSpan="2"
                             Image="images/joker.jpg"
                             Title="Featured"
                             Description="Hero card with 2x2 span" />

                <BzBentoMetric Value="8" Label="Movies" IconText="ðŸŽ¬" />

                <BzBentoMetric Value="4" Label="Themes" IconText="ðŸŽ¨" />

                <BzBentoCard TItem="object"
                             Image="images/venom.jpg"
                             Title="Venom" />

                <BzBentoCard TItem="object"
                             Image="images/wild-robot.jpg"
                             Title="Wild Robot" />

                <BzBentoCard TItem="object"
                             Image="images/thesubstance.jpg"
                             Title="The Substance" />

                <BzBentoMetric Value="60" Label="FPS" IconText="âš¡" />

                <BzBentoFeature ColSpan="2"
                                Label="Wide Card (2x1)"
                                Description="Perfect for CTAs or descriptions"
                                IconText="ðŸ“" />

                <BzBentoMetric Value="99.9" Label="Uptime" IconText="âœ“" Trend="+2%" />

                <BzBentoMetric Value="24/7" Label="Support" IconText="ðŸ’¬" />

                <BzBentoMetric Value="50+" Label="Components" IconText="ðŸ§©" />

                <BzBentoMetric Value="0" Label="Dependencies" IconText="ðŸ“¦" />
            </BzBento>
        </div>

    </section>

    <section class="bz-features" style="padding: 60px 20px;">
        <a href="/" class="bz-btn bz-btn--secondary">
            Back to Home
        </a>
    </section>

</div>

@code {
    private BzTheme _currentTheme = BzTheme.Glass;
    private BentoItem? _selectedItem;

    private List<BentoItem> _bentoItems = new()
    {
        new() { Title = "Despicable Me 4", ImageUrl = "images/despicableme.jpg" },
        new() { Title = "Joker", ImageUrl = "images/joker.jpg" },
        new() { Title = "The Platform 2", ImageUrl = "images/the-platform.jpg" },
        new() { Title = "The Substance", ImageUrl = "images/thesubstance.jpg" },
        new() { Title = "Venom", ImageUrl = "images/venom.jpg" },
        new() { Title = "Survive", ImageUrl = "images/survive.jpg" },
        new() { Title = "The Wild Robot", ImageUrl = "images/wild-robot.jpg" },
        new() { Title = "Deadpool & Wolverine", ImageUrl = "images/wolwerine.jpg" }
    };

    private void SetTheme(BzTheme theme)
    {
        _currentTheme = theme;
    }

    private void OnItemSelected(BentoItem item)
    {
        _selectedItem = item;
    }
}
