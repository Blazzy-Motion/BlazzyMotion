@inherits LayoutComponentBase

<!-- Mobile Menu Toggle Button -->
<button class="bz-mobile-toggle" @onclick="ToggleSidebar" aria-label="Toggle navigation menu">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        @if (_sidebarOpen)
        {
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
        }
        else
        {
            <line x1="3" y1="12" x2="21" y2="12"></line>
            <line x1="3" y1="6" x2="21" y2="6"></line>
            <line x1="3" y1="18" x2="21" y2="18"></line>
        }
    </svg>
</button>

<!-- Mobile Overlay -->
@if (_sidebarOpen)
{
    <div class="bz-sidebar-overlay" @onclick="CloseSidebar"></div>
}

<!-- Sidebar Navigation -->
<NavMenu IsOpen="_sidebarOpen" OnLinkClick="CloseSidebar" />

<!-- Main Content Area -->
<main class="bz-main">
    <div class="bz-main__content">
        @Body
    </div>
</main>

<div id="blazor-error-ui">
    An unhandled error has occurred.
    <a href="" class="reload">Reload</a>
    <a class="dismiss">ðŸ—™</a>
</div>

@code {
    private bool _sidebarOpen = false;

    private void ToggleSidebar()
    {
        _sidebarOpen = !_sidebarOpen;
    }

    private void CloseSidebar()
    {
        _sidebarOpen = false;
    }
}
